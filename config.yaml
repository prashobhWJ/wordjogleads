# Carnance API Configuration

# Project settings
project_name: "Carnance API"
version: "1.0.0"
description: "FastAPI REST API for CRM integration"
api_v1_str: "/api/v1"

# Lead source configuration
lead_source:
  type: "email"  # "db" for database or "email" for Microsoft 365 email

# Database configuration
database:
  server: "localhost"
  user: "wjadmuser01"
  password: "replaceme"
  db: "wjplanagent"
  port: "5432"
  schema: "carnance"        # PostgreSQL schema name (default: "public")
  pool:
    size: 10              # Number of connections to maintain in pool
    max_overflow: 20      # Maximum overflow connections
    timeout: 30           # Seconds to wait for a connection
    recycle: 3600         # Seconds before recycling a connection (1 hour)
    echo: false           # Set to true to log SQL queries

# Email configuration (for email lead source)
email:
  provider: "imap"  # Email provider: "imap" or "pop3"
  server: "imap.gmail.com"  # IMAP/POP3 server address
  port: 993  # IMAP port (993 for SSL, 143 for non-SSL) or POP3 port (995 for SSL, 110 for non-SSL)
  use_ssl: true  # Whether to use SSL/TLS encryption
  # Authentication method: "oauth2" for Microsoft 365/Outlook, "password" for basic auth
  auth_method: "password"  # "oauth2" or "password"
  # OAuth2 settings (required for Microsoft 365/Outlook)
  mailbox: prashobh@wordjog.com   # Email address of the mailbox to read from (e.g., "leads@example.com")
  # Basic auth settings (for non-OAuth2 providers like Gmail)
  username: prashobh@wordjog.com  # Email address or username for basic authentication
  password: glpljuithgszbrrl
  folder: "INBOX"  # Mailbox folder to read from (default: "INBOX" for IMAP)
  read_only: true  # Read-only mode (does not mark emails as read)
  check_interval: 300  # Interval in seconds to check for new emails (default: 5 minutes)
  recent_email_minutes: 30  # Time period in minutes to filter recent emails (default: 60 minutes)

# CRM API configuration
crm:
  base_url: "https://wordjog.twenty.com"  # Twenty CRM base URL
  api_key: null  # Not used for Twenty CRM
  api_token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxZjRmYTg2Yi0xOGFhLTQyZWQtYTc1NS1lOTQyNTBiNGIzODgiLCJ0eXBlIjoiQVBJX0tFWSIsIndvcmtzcGFjZUlkIjoiMWY0ZmE4NmItMThhYS00MmVkLWE3NTUtZTk0MjUwYjRiMzg4IiwiaWF0IjoxNzcwMjk5NDIxLCJleHAiOjQ5MjM4MTMwMTksImp0aSI6ImVlYjg4YjE5LTQwZjgtNDFlOC1hYmRiLTZkMjE2ZGRjMDIzYSJ9.P4fJQ0Vhx_CD_-i47cKsDBUcX8MaEi-voIh185tk9PM"
  timeout: 30
  validate_phone_numbers: false  # Set to false to skip phone numbers if validation fails

# CORS origins (list of allowed origins)
backend_cors_origins:
  - "http://localhost:3000"
  - "http://localhost:8000"

# Security configuration
security:
  secret_key: "your-secret-key-here-change-in-production"
  algorithm: "HS256"
  access_token_expire_minutes: 30

# LLM API configuration (OpenAI-compatible or AWS Bedrock)
llm:
  #provider: "openai"  # "openai" or "bedrock"
  #base_url: "http://192.168.68.58:11434/v1"  # Base URL for OpenAI-compatible API (use http:// for local Ollama)
  #api_key: null  # API key for authentication (not used for Bedrock)
  #model: "ministral-3:14b-instruct-2512-q8_0"  # Default model to use (OpenAI model name or Bedrock model ID)
  provider: "bedrock"
  bedrock_region: "us-east-1"
  bedrock_model_id: "mistral.mistral-large-2402-v1:0"  #"mistral.mistral-7b-instruct-2402-v1:0" #"google.gemma-3-27b-it" #"mistral.mistral-7b-instruct-v0:2"
  max_tokens: 8192
  temperature: 0.7  
  timeout: 60  # Request timeout in seconds
  max_tokens: 2000  # Maximum tokens in response
  temperature: 0.3  # Temperature for response generation (0.0-2.0)
  stream: false  # Enable streaming responses
  verify_ssl: false  # Set to false for local instances or self-signed certificates
  prompts_file: prompts.yaml  # Path to prompts.yaml (null = use default in project root)
  prompt_versions:  # Override default prompt versions (optional)
    # system_assistant: "v2"  # Use v2 for system assistant prompts
    # text_summarization: "v2"  # Use v2 for text summarization
    # lead_analysis: "v2"  # Use v2 for lead analysis
  # Bedrock-specific settings (only used when provider: "bedrock")
  # Uncomment and configure these when using Bedrock provider
  # bedrock_region: "us-east-1"  # AWS region for Bedrock
  # bedrock_model_id: "mistral.mistral-7b-instruct-v0:2"  # Bedrock model ID

# Sales Agents configuration
sales_agents:
  - id: "AGENT001"
    name: "John Smith"
    specialization: "Luxury Vehicles"
    expertise: "High-end sedans and SUVs"
    experience_years: 8
    location: "Downtown Showroom"
    territory: "Downtown, Midtown"
    primary_language: "English"
    secondary_language: "Spanish"
    current_workload: 5
    success_rate: 85
    vehicle_types:
      - "Luxury Sedan"
      - "SUV"
      - "Sports Car"
    communication_style: "Professional, Detail-oriented"
  
  - id: "AGENT002"
    name: "Sarah Johnson"
    specialization: "Economy & Family Vehicles"
    expertise: "Budget-friendly options, family SUVs"
    experience_years: 5
    location: "Suburban Showroom"
    territory: "Suburbs, North Region"
    primary_language: "English"
    secondary_language: "Spanish"
    current_workload: 3
    success_rate: 78
    vehicle_types:
      - "Economy Car"
      - "Family SUV"
      - "Minivan"
    communication_style: "Friendly, Patient"
  
  - id: "AGENT003"
    name: "Mike Davis"
    specialization: "Trucks & Commercial Vehicles"
    expertise: "Pickup trucks, commercial vehicles, fleet sales"
    experience_years: 12
    location: "Main Showroom"
    territory: "All Regions"
    primary_language: "English"
    secondary_language: "Spanish"
    current_workload: 7
    success_rate: 82
    vehicle_types:
      - "Pickup Truck"
      - "Commercial Vehicle"
      - "Fleet"
    communication_style: "Direct, Efficient"

# Logging
log_level: "INFO"
